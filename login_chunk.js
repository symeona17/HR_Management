(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{7042:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var o=i(7876),n=i(4232),s=i(9099);let r="https://ihr-09ac61d80c2f.herokuapp.com/";async function a(e,t){let i=await fetch("".concat(r,"/login"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:t})});if(!i.ok)throw Error("Login failed");return await i.json()}async function l(e){let t=await fetch("".concat(r,"/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw Error("Failed to fetch user info");return await t.json()}let d=()=>{let[e,t]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),[d,c]=(0,n.useState)(!1),[p,h]=(0,n.useState)(null),[u,f]=(0,n.useState)(!1),g=(0,s.useRouter)(),[m,x]=(0,n.useState)(!1),y=async t=>{t.preventDefault(),c(!0),h(null);try{let t=await a(e,i);localStorage.setItem("access_token",t.access_token);let o=await l(t.access_token);localStorage.setItem("user_email",o.email),localStorage.setItem("user_role",o.role),localStorage.setItem("user_id",String(o.id)),c(!1),g.push("/dashboard")}catch(e){c(!1),h("Login failed. Kindly check your credentials."),setTimeout(()=>h(null),2e3)}};return(0,o.jsx)("div",{style:{width:"100vw",height:"100vh",background:"#F5F5F5",position:"relative",overflow:"hidden"},children:(0,o.jsxs)("div",{style:{width:540,padding:"48px 48px",borderRadius:20,background:"#fff",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",boxShadow:"0 4px 32px rgba(20, 20, 43, 0.08)",display:"flex",flexDirection:"column",alignItems:"center",gap:32},children:[(0,o.jsx)("div",{style:{marginBottom:8},children:(0,o.jsx)("img",{src:"/logo.png",alt:"Logo",style:{width:100,height:36,objectFit:"contain"}})}),(0,o.jsx)("div",{style:{color:"#101828",fontSize:28,fontFamily:"Poppins, Montserrat, sans-serif",fontWeight:600,lineHeight:"28px",textAlign:"center"},children:"Login to your account"}),(0,o.jsxs)("form",{style:{width:"100%",display:"flex",flexDirection:"column",gap:24,alignItems:"center"},onSubmit:y,children:[(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12,width:"100%",alignItems:"center"},children:[(0,o.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:400},children:(0,o.jsx)("label",{htmlFor:"email",style:{color:"#344054",fontSize:16,fontFamily:"Poppins, Montserrat, sans-serif",fontWeight:400,textTransform:"capitalize",lineHeight:"16px"},children:"Company Email"})}),(0,o.jsx)("input",{id:"email",type:"email",placeholder:"person@example.com",value:e,onChange:e=>t(e.target.value),style:{width:"100%",maxWidth:400,height:48,borderRadius:8,outline:"3px #D1E9FF solid",border:"none",padding:"12px 16px",fontSize:14,fontFamily:"Poppins, Montserrat, sans-serif",color:"#344054",background:"#F9FAFB",transition:"outline 0.2s",boxSizing:"border-box",display:"block",margin:"0 auto"},autoComplete:"username",required:!0})]}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:12,width:"100%",alignItems:"center"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:400},children:[(0,o.jsx)("label",{htmlFor:"password",style:{color:"#344054",fontSize:16,fontFamily:"Poppins, Montserrat, sans-serif",fontWeight:400,textTransform:"capitalize",lineHeight:"16px"},children:"Password"}),(0,o.jsx)("span",{style:{color:"#1570EF",fontSize:16,fontFamily:"Poppins, Montserrat, sans-serif",fontWeight:400,textTransform:"capitalize",lineHeight:"16px",cursor:"pointer",userSelect:"none"},onClick:()=>alert("Please contact your administrator to reset your password."),children:"Forgot？"})]}),(0,o.jsxs)("div",{style:{position:"relative",width:"100%",maxWidth:400},children:[(0,o.jsx)("input",{id:"password",type:u?"text":"password",placeholder:"Enter your password",value:i,onChange:e=>r(e.target.value),style:{width:"100%",height:48,borderRadius:8,outline:"1px #D0D5DD solid",border:"none",padding:"12px 16px",fontSize:14,fontFamily:"Poppins, Montserrat, sans-serif",color:"#344054",background:"#F9FAFB",transition:"outline 0.2s",boxSizing:"border-box",display:"block",margin:"0 auto"},autoComplete:"current-password",required:!0}),(0,o.jsx)("span",{style:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",cursor:"pointer",color:"#98A2B3",fontSize:18,userSelect:"none"},title:u?"Hide password":"Show password",onClick:()=>f(e=>!e),children:u?"\uD83D\uDE48":"\uD83D\uDC41️"})]})]}),p&&(0,o.jsx)("div",{style:{color:"#D92D20",fontSize:14,fontFamily:"Poppins, Montserrat, sans-serif",marginTop:-8},children:p}),(0,o.jsx)("button",{type:"submit",disabled:d,style:{width:"100%",maxWidth:400,height:52,background:"#1570EF",borderRadius:8,border:"none",color:"#FCFCFD",fontSize:16,fontFamily:"Poppins, Montserrat, sans-serif",fontWeight:600,cursor:d?"not-allowed":"pointer",marginTop:8,transition:"background 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:5,marginLeft:"auto",marginRight:"auto"},children:d?"Logging in...":"Login now"})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",marginTop:8},children:[(0,o.jsx)("span",{style:{color:"#98A2B3",fontSize:16,fontFamily:"Poppins, Montserrat, sans-serif",fontWeight:400,textTransform:"capitalize",lineHeight:"16px"},children:"Don't have an account ?"}),(0,o.jsx)("span",{style:{color:"#1570EF",fontSize:16,fontFamily:"Poppins, Montserrat, sans-serif",fontWeight:400,textTransform:"capitalize",lineHeight:"16px",cursor:"pointer",userSelect:"none"},onClick:()=>alert("Kindly email andreas.symeonidis1@gmail.com"),children:"Contact Administrator"})]})]})})}},7984:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return i(7042)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=7984)),_N_E=e.O()}]);
